

<div class="max-w-2xl mx-auto bg-white rounded-xl shadow-md mt-4">
  <h2 class="text-2xl font-bold mb-4 text-center bg-white-100">Historial de mantenimientos</h2>
 <div class="flex justify-center">
      <!-- Lector QR -->
<app-escanear-cliente (codeScanned)="onQrScanned($event)"></app-escanear-cliente>
  </div>
<div class="bg-white-100 rounded-xl p-4 mt-6">
<div >
   <h2 class="text-2xl font-bold mb-4 text-center bg-white-100">{{this.form.name}}</h2>
</div>
  <div *ngFor="let cita of historialCliente" class=" p-4 flex items-start gap-4">

  <div class="flex-1">
      <p><strong>Fecha:</strong> {{ cita.date }}</p>
      <p><strong>Servicio:</strong> {{ cita.product }}</p>
      <p><strong>Bicicleta:</strong> {{ cita.bikeModel }}</p>
      <p *ngIf="cita.description"><strong>Descripción:</strong> {{ cita.description }}</p>
      <p><strong>Precio:</strong> ${{ cita.price }}</p>
      <p><strong>Estado:</strong> {{ cita.status }}</p>
  </div>

  <!-- Imagen -->
  <div>
     <img
      [src]="cita.imageUrl"
      alt="QR del cliente"
      class="w-24 object-contain rounded shadow cursor-pointer"
      *ngIf="cita.imageUrl"
      (click)="abrirModalImagen(cita.imageUrl)"/>
  </div>
</div>
</div>

</div>


<!-- Modal de imagen pequeño -->
<div
  *ngIf="mostrarModalImagen"
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4"
  (click)="cerrarModalImagen()"
>
  <div
    class="bg-white rounded-xl max-w-xl w-full p-6 shadow-lg relative animate-fade-in"
    (click)="$event.stopPropagation()"
  >
    <button
      class="absolute top-1 right-2 text-gray-500 hover:text-black text-lg"
      (click)="cerrarModalImagen()"
    >
      ✖
    </button>
    <img
      [src]="imagenModalUrl"
      alt="Imagen ampliada"
      class="w-full h-auto rounded object-contain"
    />
  </div>
</div>
